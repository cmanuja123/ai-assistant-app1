# AI Assistant App

This React application mimics an AI assistant interface that processes user queries with an "agentic reasoning" approach. It displays a step-by-step breakdown of its reasoning (Search, Consolidate, Response) and provides structured responses with source citations (future feature).

**Note:** Each query requires a page refresh before submitting a new one, as per the initial simplified design.

## Technology Stack

*   **Framework:** React 18 with TypeScript (TSX)
*   **Build Tool:** Vite
*   **Styling:** Tailwind CSS
*   **UI Components:** Material UI (MUI) for icons
*   **State Management:** React Context API (AppContext, QueryContext)
*   **Routing:** React Router (minimal use - mainly for refresh functionality if implemented beyond `window.location.reload()`)

## Core Features

*   User query input interface with suggested queries.
*   Display of the user's current query during processing.
*   "Edit" button to refresh the page and start a new query.
*   Step-by-step reasoning visualization:
    *   **Search Step:** Shows the query being searched, sources being read (mocked).
    *   **Consolidate Step:** Shows a "thinking" or "summarizing" status with typing animation.
    *   **Response Step:** Displays the final structured response (mocked).
*   Visual indicators for active, completed, and pending steps (numbered circle, loading spinner, checkmark).
*   Collapsible sections for each reasoning step.
*   Mocked data and API calls to simulate backend processing.
*   Basic UI elements like Header (Project Name, User Avatar/Initials).

## Folder Structure

```
ai-assistant/
├── public/
├── src/
│   ├── assets/                       # Static assets (images, icons if not from MUI)
│   │   ├── common/                   # Shared components (Header, TypingIndicator)
│   │   │   ├── Header.tsx
│   │   │   └── TypingIndicator.tsx
│   │   ├── input/                    # Query input related components
│   │   │   ├── QueryInput.tsx
│   │   │   └── SuggestedQueries.tsx
│   │   ├── processing/               # Components for agentic reasoning steps
│   │   │   ├── AgenticReasoning.tsx
│   │   │   ├── SearchStep.tsx
│   │   │   ├── ConsolidateStep.tsx
│   │   │   └── ResponseStep.tsx
│   │   └── layout/                   # Layout components (MainLayout, SourcesSidebar)
│   │       ├── MainLayout.tsx
│   │       └── SourcesSidebar.tsx      # Placeholder for future sources display
│   ├── context/                      # React context for state management
│   │   ├── AppContext.tsx            # General app state (e.g., user, theme)
│   │   └── QueryContext.tsx          # Query processing state
│   ├── hooks/                        # Custom React hooks
│   │   ├── useProcessQuery.ts        # Manages query lifecycle (placeholder)
│   │   ├── useTypingEffect.ts        # Creates typing animation
│   │   └── useStepTransition.ts      # Manages step transitions (placeholder)
│   ├── types/                        # TypeScript type definitions
│   │   └── index.ts
│   ├── utils/                        # Utility functions and mock data
│   │   ├── mockApi.ts                # Simulates API calls
│   │   ├── processingSteps.ts        # Defines step enums and mock data structures
│   │   └── animations.ts             # Animation utilities (placeholder)
│   ├── App.tsx                       # Main application component
│   ├── main.tsx                      # Application entry point
│   └── index.css                     # Global styles and Tailwind directives
├── .eslintrc.cjs                     # ESLint configuration (auto-generated by Vite)
├── .gitignore                        # Git ignore file
├── index.html                        # Main HTML file for Vite
├── package.json                      # Project dependencies and scripts
├── postcss.config.js                 # PostCSS configuration (for Tailwind)
├── tailwind.config.js                # Tailwind CSS configuration
├── tsconfig.json                     # TypeScript compiler options
├── tsconfig.node.json                # TypeScript compiler options for Node.js (Vite specific)
└── vite.config.ts                    # Vite configuration
```

## Getting Started

1.  **Clone the repository (or create files as per above):**
    ```bash
    # git clone ... (if it were a repo)
    # Otherwise, ensure all files are created as specified.
    ```

2.  **Install dependencies:**
    Navigate to the project directory and run:
    ```bash
    npm install
    # or
    yarn install
    ```

3.  **Run the development server:**
    ```bash
    npm run dev
    # or
    yarn dev
    ```
    This will start the Vite development server, typically at `http://localhost:5173`.

## Key Components Explanation

*   **`MainLayout.tsx`**: Structures the main application page, including the header, and conditionally renders either the initial query view or the `AgenticReasoning` view.
*   **`QueryInput.tsx`**: A form for users to type their query. Includes an attach icon (non-functional) and a send button.
*   **`SuggestedQueries.tsx`**: Displays a few clickable query suggestions that populate the main input.
*   **`AgenticReasoning.tsx`**: Orchestrates the display of `SearchStep`, `ConsolidateStep`, and `ResponseStep`. It manages the current step in the mock processing flow.
*   **`SearchStep.tsx`**: Displays details of the (mock) search process, including the query term and sources.
*   **`ConsolidateStep.tsx`**: Shows the consolidation phase, often with a typing indicator for "Summarising Findings..."
*   **`ResponseStep.tsx`**: Presents the final, structured answer from the AI.

## State Management

*   **`AppContext.tsx`**: Intended for global application settings (e.g., user information, theme). Currently minimal.
*   **`QueryContext.tsx`**: Designed to hold state related to the current query being processed, its various stages, and the data associated with each stage. (Currently, most state is managed within `AgenticReasoning.tsx` via `useState` and props for simplicity, but `QueryContext` is set up for future expansion).

## Mock Data and Processing

*   **`src/utils/processingSteps.ts`**: Contains an `enum Step` for tracking progress and `mockApiResponse` which holds the static data used by `SearchStep`, `ConsolidateStep`, and `ResponseStep`.
*   **`src/utils/mockApi.ts`**: Simulates API calls with delays to mimic real-world fetching of data for each processing step.
*   The flow in `AgenticReasoning.tsx` uses `useEffect` and `setTimeout` to simulate the progression through Search -> Consolidate -> Response steps.

## Next Steps / Potential Improvements

*   Implement `SourcesSidebar.tsx` to display source documents.
*   Fully utilize `QueryContext` for state management across components.
*   Implement `useProcessQuery` and `useStepTransition` hooks.
*   Replace mock data and API calls with actual API integration.
*   Enhance styling and add more precise icons (e.g., the "sparkles" icon for Agentic Reasoning).
*   Add error handling and more robust loading states.
*   Improve accessibility.
*   Add unit and integration tests.
*   Remove the page refresh requirement for new queries by properly resetting state.

This README provides a good overview of the application structure and how to get it running. 